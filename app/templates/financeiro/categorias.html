{% extends "base.html" %}

{% block title %}Categorias Financeiras{% endblock %}
{% block header_title %}Categorias Financeiras{% endblock %}
{% block header_subtitle %}Organize receitas e despesas para relatórios e controle financeiro.{% endblock %}

{% block content %}
{% include "financeiro/_nav.html" %}

<div class="bg-white rounded-xl shadow-sm p-4 mb-6">
  <form method="post" action="/painel/financeiro/categorias/criar" class="grid grid-cols-1 md:grid-cols-3 gap-3">
    <input name="nome" placeholder="Nome da categoria" required class="rounded-xl border border-slate-200 px-3 py-2 text-sm" />

    <select name="tipo" required class="rounded-xl border border-slate-200 px-3 py-2 text-sm">
      <option value="">Tipo</option>
      <option value="RECEITA">Receita</option>
      <option value="DESPESA">Despesa</option>
    </select>

    <button class="rounded-xl px-4 py-2 text-sm font-bold text-white" style="background: var(--ds-primary);">
      + Nova categoria
    </button>
  </form>
</div>

<div class="bg-white rounded-xl shadow-sm overflow-hidden">
  <table class="w-full text-sm">
    <thead class="bg-slate-50 text-slate-600">
      <tr>
        <th class="text-left px-4 py-3">Nome</th>
        <th class="text-left px-4 py-3">Tipo</th>
        <th class="text-right px-4 py-3">Ações</th>
      </tr>
    </thead>
    <tbody>
      {% for c in categorias %}
      <tr class="border-t">
        <td class="px-4 py-3 font-medium text-slate-800">{{ c.nome }}</td>
        <td class="px-4 py-3">
          {% if c.tipo == "RECEITA" %}
            <span class="text-green-700 font-semibold">Receita</span>
          {% else %}
            <span class="text-red-700 font-semibold">Despesa</span>
          {% endif %}
        </td>
        <td class="px-4 py-3 text-right">
          <a href="/painel/financeiro/categorias/excluir/{{ c.id }}"
             class="text-red-600 hover:underline text-xs font-semibold">
            Excluir
          </a>
        </td>
      </tr>
      {% else %}
      <tr>
        <td colspan="3" class="px-4 py-6 text-center text-slate-400">Nenhuma categoria cadastrada.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
